{"code":"!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=0)}([function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=i(1),o=i(2),r=document.querySelector(\"canvas\"),a=r.getContext(\"2d\");r.width=50*n.map01[0].length,r.style.width=50*n.map01[0].length+\"px\",r.height=50*n.map01.length,r.style.height=50*n.map01.length+\"px\";var u=o.getUniquePosition(n.map01,2),l=o.getUniquePosition(n.map01,3),f=[],s=[{position:{x:2,y:2},radius:1.5,id:0,damagePerFrame:2},{position:{x:3,y:2},radius:1.5,id:1,damagePerFrame:2},{position:{x:9,y:3},radius:1.5,id:2,damagePerFrame:2}],c=0,d=0,p=function(){++c%40==0&&f.push({health:100,id:d++,isColliding:!1,originalHealth:100,position:o.getUniquePosition(n.map01,2),radius:.05,route:o.breadthFirstSearch({map:n.map01,start:u,end:l})}),f.forEach((function(e){var t,i,n=e.position,r=e.route;if(o.arePositionsEqual(n,l)||e.health<=0)return f.splice(f.indexOf(e),1),null;o.arePositionsEqual(n,r[0])&&r.shift(),e.position=(t=n,i=r[0],t.x<i.x?{x:Number((t.x+=.02).toFixed(4)),y:t.y}:t.x>i.x?{x:Number((t.x-=.02).toFixed(4)),y:t.y}:t.y<i.y?{x:t.x,y:Number((t.y+=.02).toFixed(4))}:t.y>i.y?{x:t.x,y:Number((t.y-=.02).toFixed(4))}:void 0),e.isColliding=!1})),s.forEach((function(e){var t=[];if(f.forEach((function(i){o.areColliding(e,i)&&t.push(i)})),t.sort((function(e,t){return e.id-t.id})),t.length){var i=e.damagePerFrame,n=t[0];n.isColliding=!0,n.health-=i}}))},y=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},h=(y(),function(){var e=y();p(),a.fillStyle=\"black\",a.fillRect(0,0,50*n.map01[0].length,50*n.map01.length),n.map01.forEach((function(e,t){e.forEach((function(e,i){e>0&&e<4&&(a.fillStyle=\"#444\",a.fillRect(50*i,50*t,50,50))}))})),s.forEach((function(e){var t=e.position,i=t.x,n=t.y;a.fillStyle=\"blue\",a.fillRect(50*i+10,50*n+10,30,30),a.fillStyle=\"rgba(255,255,255,.1)\",a.beginPath(),a.arc(50*i+25,50*n+25,75,0,2*Math.PI),a.fill()})),f.forEach((function(e){var t=e.position,i=e.isColliding,n=e.health,o=e.originalHealth;a.fillStyle=i?\"white\":\"red\",a.beginPath(),a.arc(50*t.x+25,50*t.y+25,5,0,2*Math.PI),a.fill(),n<100&&(a.fillStyle=\"black\",a.fillRect(50*t.x+15,50*t.y+35,20,3),a.fillStyle=\"lime\",a.fillRect(50*t.x+15,50*t.y+35,n/o*.2,3))})),e,requestAnimationFrame(h)});requestAnimationFrame(h)},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.map01=[[0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0,0,0,0,0],[0,1,0,0,0,1,0,0,1,1,1,0],[0,1,0,0,0,1,0,0,1,0,1,0],[0,1,0,0,0,1,0,0,1,0,1,0],[0,1,0,0,0,1,1,1,1,0,1,0],[0,1,0,0,0,0,0,0,0,0,1,0],[0,2,0,0,0,0,0,0,0,0,3,0]]},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getUniquePosition=function(e,t){var i,n;return e.forEach((function(e,o){e.includes(t)&&(n=o,i=e.indexOf(t))})),{x:i,y:n}},t.getValueAtPosition=function(e,t){var i=e.x,n=e.y;return t[n]?t[n][i]:null},t.arePositionsEqual=function(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((function(i){return e[i]===t[i]}))},t.getAdjacentPositions=function(e,i){return[{x:e.x-1,y:e.y},{x:e.x+1,y:e.y},{x:e.x,y:e.y-1},{x:e.x,y:e.y+1}].filter((function(e){return t.getValueAtPosition(e,i)>0&&t.getValueAtPosition(e,i)<4}))},t.positionToId=function(e){return e.x+1e3*e.y},t.breadthFirstSearch=function(e){var i=e.map,n=e.start,o=e.end,r=new Set,a=[];a.push({position:n,path:[]});for(var u=function(){var e=a.shift(),n=e.position,u=e.path;if(t.arePositionsEqual(n,o))return{value:u};r.has(t.positionToId(n))||(r.add(t.positionToId(n)),t.getAdjacentPositions(n,i).forEach((function(e){a.push({position:e,path:u.concat([e])})})))};a.length;){var l=u();if(\"object\"==typeof l)return l.value}return[]},t.areColliding=function(e,t){var i=e.position.x-t.position.x,n=e.position.y-t.position.y;return Math.sqrt(i*i+n*n)<e.radius+t.radius}}]);","extractedComments":[]}