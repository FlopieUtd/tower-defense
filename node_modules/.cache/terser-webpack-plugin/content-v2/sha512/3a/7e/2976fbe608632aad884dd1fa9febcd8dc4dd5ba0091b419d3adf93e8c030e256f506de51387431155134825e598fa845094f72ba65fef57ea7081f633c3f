{"code":"!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=0)}([function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(1),o=i(2),r=document.querySelector(\"canvas\"),u=r.getContext(\"2d\");r.width=50*n.map01[0].length,r.style.width=50*n.map01[0].length+\"px\",r.height=50*n.map01.length,r.style.height=50*n.map01.length+\"px\";var a=o.getUniquePosition(n.map01,2),l=o.getUniquePosition(n.map01,3),f=[],c=[{position:{x:2,y:2},radius:1.5,id:0},{position:{x:9,y:3},radius:1.5,id:1}],s=0,d=0,p=function(){++s%40==0&&f.push({health:100,id:d++,isColliding:!1,position:o.getUniquePosition(n.map01,2),radius:.05,route:o.breadthFirstSearch({map:n.map01,start:a,end:l})}),f.forEach((function(t){var e,i,n=t.position,r=t.route;if(o.arePositionsEqual(n,l)||t.health<=0)return f.splice(f.indexOf(t),1),null;o.arePositionsEqual(n,r[0])&&r.shift(),t.isColliding&&(t.health-=2),t.position=(e=n,i=r[0],e.x<i.x?{x:Number((e.x+=.02).toFixed(4)),y:e.y}:e.x>i.x?{x:Number((e.x-=.02).toFixed(4)),y:e.y}:e.y<i.y?{x:e.x,y:Number((e.y+=.02).toFixed(4))}:e.y>i.y?{x:e.x,y:Number((e.y-=.02).toFixed(4))}:void 0),t.isColliding=!1})),c.forEach((function(t){var e=[];(f.forEach((function(i){o.areColliding(t,i)&&e.push(i)})),e.sort((function(t,e){return t.id-e.id})),e.length)&&(e[0].isColliding=!0)}))},y=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},h=(y(),function(){var t=y();p(),u.fillStyle=\"black\",u.fillRect(0,0,50*n.map01[0].length,50*n.map01.length),n.map01.forEach((function(t,e){t.forEach((function(t,i){t>0&&t<4&&(u.fillStyle=\"#444\",u.fillRect(50*i,50*e,50,50))}))})),c.forEach((function(t){var e=t.position,i=e.x,n=e.y;u.fillStyle=\"blue\",u.fillRect(50*i+10,50*n+10,30,30),u.fillStyle=\"rgba(255,255,255,.1)\",u.beginPath(),u.arc(50*i+25,50*n+25,75,0,2*Math.PI),u.fill()})),f.forEach((function(t){var e=t.position,i=t.isColliding,n=t.health;u.fillStyle=i?\"white\":\"red\",u.beginPath(),u.arc(50*e.x+25,50*e.y+25,5,0,2*Math.PI),u.fill(),u.fillStyle=\"black\",u.fillRect(50*e.x+15,50*e.y+35,20,3),u.fillStyle=\"lime\",u.fillRect(50*e.x+15,50*e.y+35,.2*n,3)})),t,requestAnimationFrame(h)});requestAnimationFrame(h)},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.map01=[[0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0,0,0,0,0],[0,1,0,0,0,1,0,0,1,1,1,0],[0,1,0,0,0,1,0,0,1,0,1,0],[0,1,0,0,0,1,0,0,1,0,1,0],[0,1,0,0,0,1,1,1,1,0,1,0],[0,1,0,0,0,0,0,0,0,0,1,0],[0,2,0,0,0,0,0,0,0,0,3,0]]},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getUniquePosition=function(t,e){var i,n;return t.forEach((function(t,o){t.includes(e)&&(n=o,i=t.indexOf(e))})),{x:i,y:n}},e.getValueAtPosition=function(t,e){var i=t.x,n=t.y;return e[n]?e[n][i]:null},e.arePositionsEqual=function(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every((function(i){return t[i]===e[i]}))},e.getAdjacentPositions=function(t,i){return[{x:t.x-1,y:t.y},{x:t.x+1,y:t.y},{x:t.x,y:t.y-1},{x:t.x,y:t.y+1}].filter((function(t){return e.getValueAtPosition(t,i)>0&&e.getValueAtPosition(t,i)<4}))},e.positionToId=function(t){return t.x+1e3*t.y},e.breadthFirstSearch=function(t){var i=t.map,n=t.start,o=t.end,r=new Set,u=[];u.push({position:n,path:[]});for(var a=function(){var t=u.shift(),n=t.position,a=t.path;if(e.arePositionsEqual(n,o))return{value:a};r.has(e.positionToId(n))||(r.add(e.positionToId(n)),e.getAdjacentPositions(n,i).forEach((function(t){u.push({position:t,path:a.concat([t])})})))};u.length;){var l=a();if(\"object\"==typeof l)return l.value}return[]},e.areColliding=function(t,e){var i=t.position.x-e.position.x,n=t.position.y-e.position.y;return Math.sqrt(i*i+n*n)<t.radius+e.radius}}]);","extractedComments":[]}