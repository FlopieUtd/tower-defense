{"map":"{\"version\":3,\"sources\":[\"bundle.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"levels_1\",\"utils_1\",\"CANVAS\",\"document\",\"querySelector\",\"CTX\",\"getContext\",\"SPAWN_LOCATION\",\"getUniquePosition\",\"level01\",\"map\",\"HEADQUARTERS\",\"TILE_SIZE\",\"STARTING_MONEY\",\"STARTING_HQ_HEALTH\",\"WAVE_NUM_DIV\",\"COIN_NUM_DIV\",\"FAST_FORWARD_DIV\",\"BOTTOM_BAR_DIV\",\"consts_1\",\"state_1\",\"waves\",\"amount\",\"type\",\"renderMap\",\"fillStyle\",\"fillRect\",\"length\",\"forEach\",\"row\",\"y\",\"tile\",\"x\",\"renderBuildings\",\"font\",\"textAlign\",\"fillText\",\"hqHealth\",\"toString\",\"Error\",\"index\",\"includes\",\"indexOf\",\"getValueAtPosition\",\"_a\",\"arePositionsEqual\",\"a\",\"b\",\"keys\",\"every\",\"getAdjacentPositions\",\"position\",\"filter\",\"positionToId\",\"breadthFirstSearch\",\"problem\",\"start\",\"end\",\"closed\",\"Set\",\"queue\",\"push\",\"path\",\"_loop_1\",\"node\",\"shift\",\"has\",\"add\",\"neighbour\",\"concat\",\"areColliding\",\"distanceX\",\"distanceY\",\"Math\",\"sqrt\",\"radius\",\"move\",\"current\",\"next\",\"speed\",\"moveSpeed\",\"Number\",\"toFixed\",\"enemies_1\",\"towers_1\",\"ui_1\",\"event_handlers_1\",\"finishLevel\",\"console\",\"log\",\"timestamp\",\"window\",\"performance\",\"now\",\"Date\",\"getTime\",\"last\",\"delta\",\"frame\",\"step\",\"game\",\"isFastForward\",\"min\",\"isPaused\",\"isGameOver\",\"tick\",\"increase\",\"spawnEnemies\",\"updateEnemies\",\"activeEnemies\",\"updateTowers\",\"towers\",\"renderTowers\",\"renderEnemies\",\"renderConstructionPreview\",\"setGameOver\",\"requestAnimationFrame\",\"startGame\",\"canvas\",\"width\",\"style\",\"height\",\"initializeUI\",\"registerEventHandlers\",\"money\",\"set\",\"towerBlueprints\",\"damagePerFrame\",\"cost\",\"color\",\"enemies\",\"tower\",\"isFiring\",\"enemiesInReach\",\"enemy\",\"sort\",\"id\",\"target\",\"isUnderFire\",\"health\",\"beginPath\",\"arc\",\"PI\",\"fill\",\"displayPreview\",\"construction\",\"blueprint\",\"mouse\",\"hidePreview\",\"__assign\",\"this\",\"assign\",\"arguments\",\"apply\",\"engine_1\",\"spawnEnemy\",\"enemyBlueprint\",\"route\",\"enemyBlueprints\",\"find\",\"increaseWaveTick\",\"waveTick\",\"reward\",\"increaseBy\",\"decrease\",\"splice\",\"originalHealth\",\"intervalInTicks\",\"innerHTML\",\"_1\",\"handleFastForwardToggle\",\"toggleFastForward\",\"handleConstructionPreview\",\"setBlueprint\",\"showPreview\",\"handleMouseMove\",\"event\",\"offsetX\",\"offsetY\",\"currentTile\",\"floor\",\"setPosition\",\"handleMouseLeave\",\"handleMouseClick\",\"decreaseBy\",\"handleKeyDown\",\"e\",\"togglePaused\",\"isFinite\",\"addEventListener\"],\"mappings\":\"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\"}","code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=6)}([function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(1),r=n(3);t.CANVAS=document.querySelector(\"canvas\"),t.CTX=t.CANVAS.getContext(\"2d\"),t.SPAWN_LOCATION=r.getUniquePosition(i.level01.map,2),t.HEADQUARTERS=r.getUniquePosition(i.level01.map,3),t.TILE_SIZE=50,t.STARTING_MONEY=200,t.STARTING_HQ_HEALTH=20,t.WAVE_NUM_DIV=document.querySelector(\".wave-num\"),t.COIN_NUM_DIV=document.querySelector(\".coin-num\"),t.FAST_FORWARD_DIV=document.querySelector(\".fast-forward\"),t.BOTTOM_BAR_DIV=document.querySelector(\".bottom-bar\")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),r=n(2);t.level01={map:[[0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0],[0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,1,1,1,0,1,1,1,0,1,1,1,1,1,0],[0,0,0,0,1,1,1,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],[2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],waves:[{amount:15,type:\"normal\"},{amount:20,type:\"normal\"},{amount:15,type:\"heavy\"},{amount:20,type:\"heavy\"}]},t.renderMap=function(e){i.CTX.fillStyle=\"black\",i.CTX.fillRect(0,0,e[0].length*i.TILE_SIZE,e.length*i.TILE_SIZE),e.forEach((function(e,t){e.forEach((function(e,n){e>0&&e<4&&(i.CTX.fillStyle=\"#444\",i.CTX.fillRect(n*i.TILE_SIZE,t*i.TILE_SIZE,i.TILE_SIZE,i.TILE_SIZE))}))}))},t.renderBuildings=function(e){e.forEach((function(e,t){e.forEach((function(e,n){2===e&&(i.CTX.fillStyle=\"#222\",i.CTX.fillRect(n*i.TILE_SIZE,t*i.TILE_SIZE,i.TILE_SIZE,i.TILE_SIZE),i.CTX.font=\"20px monospace\",i.CTX.fillStyle=\"white\",i.CTX.textAlign=\"center\",i.CTX.fillText(\"S\",n*i.TILE_SIZE+.5*i.TILE_SIZE,t*i.TILE_SIZE+.6*i.TILE_SIZE)),3===e&&(i.CTX.fillStyle=\"#222\",i.CTX.fillRect(n*i.TILE_SIZE,t*i.TILE_SIZE,i.TILE_SIZE,i.TILE_SIZE),i.CTX.font=\"20px monospace\",i.CTX.fillStyle=\"white\",i.CTX.textAlign=\"center\",i.CTX.fillText(r.hqHealth.value.toString(),n*i.TILE_SIZE+.5*i.TILE_SIZE,t*i.TILE_SIZE+.6*i.TILE_SIZE))}))}))}},function(e,t){throw new Error(\"Module parse failed: Unexpected token (102:12)\\nFile was processed with these loaders:\\n * ./node_modules/ts-loader/index.js\\nYou may need an additional loader to handle the result of these loaders.\\n| exports.activeTower = {\\n|     value: 0\\n> }, exports. = (_a = void 0, _a.this), exports.value = (_b = _a.value, _b === void 0 ? position : _b);\\n| \")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getUniquePosition=function(e,t){var n,i;return e.forEach((function(e,r){e.includes(t)&&(i=r,n=e.indexOf(t))})),{x:n,y:i}},t.getValueAtPosition=function(e,t){var n=e.x,i=e.y;return t[i]?t[i][n]:null},t.arePositionsEqual=function(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((function(n){return e[n]===t[n]}))},t.getAdjacentPositions=function(e,n){return[{x:e.x-1,y:e.y},{x:e.x+1,y:e.y},{x:e.x,y:e.y-1},{x:e.x,y:e.y+1}].filter((function(e){return t.getValueAtPosition(e,n)>0&&t.getValueAtPosition(e,n)<4}))},t.positionToId=function(e){return e.x+1e3*e.y},t.breadthFirstSearch=function(e){var n=e.map,i=e.start,r=e.end,o=new Set,a=[];a.push({position:i,path:[]});for(var l=function(){var e=a.shift(),i=e.position,l=e.path;if(t.arePositionsEqual(i,r))return{value:l};o.has(t.positionToId(i))||(o.add(t.positionToId(i)),t.getAdjacentPositions(i,n).forEach((function(e){a.push({position:e,path:l.concat([e])})})))};a.length;){var s=l();if(\"object\"==typeof s)return s.value}return[]},t.areColliding=function(e,t){var n=e.position.x-t.position.x,i=e.position.y-t.position.y;return Math.sqrt(n*n+i*i)<e.radius+t.radius},t.move=function(e,t,n){var i=n/100;return e.x<t.x?{x:Number((e.x+=i).toFixed(4)),y:e.y}:e.x>t.x?{x:Number((e.x-=i).toFixed(4)),y:e.y}:e.y<t.y?{x:e.x,y:Number((e.y+=i).toFixed(4))}:e.y>t.y?{x:e.x,y:Number((e.y-=i).toFixed(4))}:void 0}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),r=n(7),o=n(1),a=n(2),l=n(5),s=n(8),u=n(9);t.finishLevel=function(){console.log(\"level won!\")};var c=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},f=c(),E=0;t.frame=function(){var e=c(),n=a.game.isFastForward?1/240:1/60;for(E+=Math.min(1,(e-f)/1e3);E>n;)E-=n,a.game.isPaused||a.game.isGameOver||(a.tick.increase(),r.spawnEnemies(),r.updateEnemies(r.activeEnemies),l.updateTowers(l.towers,r.activeEnemies));f=e,o.renderMap(o.level01.map),l.renderTowers(l.towers),r.renderEnemies(r.activeEnemies),l.renderConstructionPreview(),o.renderBuildings(o.level01.map),a.hqHealth.value<=0&&(console.log(\"game over!\"),a.game.setGameOver(!0)),a.game.isGameOver||requestAnimationFrame(t.frame)};t.startGame=function(){var e;(e=i.CANVAS).width=o.level01.map[0].length*i.TILE_SIZE,e.style.width=o.level01.map[0].length*i.TILE_SIZE+\"px\",e.height=o.level01.map.length*i.TILE_SIZE,e.style.height=o.level01.map.length*i.TILE_SIZE+\"px\",s.initializeUI(),u.registerEventHandlers(),a.money.set(i.STARTING_MONEY),a.hqHealth.set(i.STARTING_HQ_HEALTH),a.waves.set(0),requestAnimationFrame(t.frame)}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),r=n(1),o=n(2),a=n(3);t.towerBlueprints=[{type:\"turret\",damagePerFrame:1,radius:1.5,cost:100,color:\"blue\"},{type:\"flamethrower\",damagePerFrame:2,radius:1.2,cost:150,color:\"red\"}],t.updateTowers=function(e,t){e.forEach((function(e){e.isFiring=!1;var n=[];if(t.forEach((function(t){a.areColliding(e,t)&&n.push(t)})),n.sort((function(e,t){return e.id-t.id})),n.length){e.isFiring=!0;var i=e.damagePerFrame,r=n[0];r.isUnderFire=!0,r.health-=i}}))},t.renderTowers=function(e){e.forEach((function(e){var t=e.position,n=e.isFiring,r=t.x,o=t.y;i.CTX.fillStyle=e.color,i.CTX.fillRect(r*i.TILE_SIZE+10,o*i.TILE_SIZE+10,i.TILE_SIZE-20,i.TILE_SIZE-20),n&&(i.CTX.fillStyle=\"white\",i.CTX.beginPath(),i.CTX.arc(r*i.TILE_SIZE+.5*i.TILE_SIZE,o*i.TILE_SIZE+.5*i.TILE_SIZE,5,0,2*Math.PI),i.CTX.fill())}))},t.renderConstructionPreview=function(){var e=o.construction.displayPreview,t=o.construction.blueprint;if(t){var n=t.cost,l=t.color,s=t.radius,u=o.mouse.position,c=o.money.value;e&&u&&0===a.getValueAtPosition(u,r.level01.map)&&n<=c&&(i.CTX.fillStyle=\"rgba(255,255,255,.1)\",i.CTX.beginPath(),i.CTX.arc(u.x*i.TILE_SIZE+.5*i.TILE_SIZE,u.y*i.TILE_SIZE+.5*i.TILE_SIZE,s*i.TILE_SIZE,0,2*Math.PI),i.CTX.fill(),i.CTX.fillStyle=l,i.CTX.fillRect(u.x*i.TILE_SIZE+10,u.y*i.TILE_SIZE+10,i.TILE_SIZE-20,i.TILE_SIZE-20)),n>c&&o.construction.hidePreview()}},t.towers=[]},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),n(4).startGame()},function(e,t,n){\"use strict\";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0),o=n(4),a=n(1),l=n(2),s=n(3);t.spawnEnemy=function(e){t.activeEnemies.push(i(i({},e),{id:l.id.get(),isUnderFire:!1,position:s.getUniquePosition(a.level01.map,2),route:s.breadthFirstSearch({end:r.HEADQUARTERS,map:a.level01.map,start:r.SPAWN_LOCATION})}))},t.spawnEnemies=function(){if(l.tick.value%30==0&&a.level01.waves[l.waves.value]&&a.level01.waves[l.waves.value].amount){a.level01.waves[l.waves.value].amount--;var e=t.enemyBlueprints.find((function(e){return e.type===a.level01.waves[l.waves.value].type}));t.spawnEnemy(e)}a.level01.waves[l.waves.value].amount<1&&(l.tick.increaseWaveTick(),l.tick.waveTick%1e3==0&&(l.waves.value<a.level01.waves.length-1&&l.waves.increase(),l.tick.waveTick=0))},t.updateEnemies=function(e){e.forEach((function(t){var n=t.position,i=t.route,u=t.health,c=t.reward,f=t.speed;if(u<=0&&l.money.increaseBy(c),s.arePositionsEqual(n,r.HEADQUARTERS)&&l.hqHealth.decrease(),s.arePositionsEqual(n,r.HEADQUARTERS)||u<=0)return e.splice(e.indexOf(t),1),l.waves.value===a.level01.waves.length-1&&0===e.length&&o.finishLevel(),null;s.arePositionsEqual(n,i[0])&&i.shift(),t.position=s.move(n,i[0],f),t.isUnderFire=!1}))},t.renderEnemies=function(e){e.forEach((function(e){var t=e.position,n=e.isUnderFire,i=e.health,o=e.originalHealth,a=e.color;r.CTX.fillStyle=n?\"white\":a,r.CTX.beginPath(),r.CTX.arc(t.x*r.TILE_SIZE+.5*r.TILE_SIZE,t.y*r.TILE_SIZE+.5*r.TILE_SIZE,5,0,2*Math.PI),r.CTX.fill(),i/o<1&&(r.CTX.fillStyle=\"black\",r.CTX.fillRect(t.x*r.TILE_SIZE+17.5,t.y*r.TILE_SIZE+35,15,2),r.CTX.fillStyle=\"lime\",r.CTX.fillRect(t.x*r.TILE_SIZE+17.5,t.y*r.TILE_SIZE+35,i/o*15,2))}))},t.enemyBlueprints=[{type:\"normal\",color:\"red\",radius:.05,originalHealth:75,health:75,reward:2,speed:2.5,intervalInTicks:30},{type:\"heavy\",color:\"pink\",radius:.05,originalHealth:150,health:150,reward:3,speed:2,intervalInTicks:25}],t.activeEnemies=[]},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),r=n(5);t.initializeUI=function(){r.towerBlueprints.forEach((function(e){i.BOTTOM_BAR_DIV.innerHTML+=\"<div class='tower-slot \"+e.type+'\\'><div class=\"preview\" style=\"background: '+e.color+'\"/></div>'}))}},function(e,t,n){\"use strict\";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(4),o=n(0),a=n(1),l=n(2),s=n(5),u=n(3),c=function(){l.game.toggleFastForward(),o.FAST_FORWARD_DIV.innerHTML=l.game.isFastForward?\">\":\">>\"},f=function(e){e.cost<=l.money.value&&(l.construction.setBlueprint(e),l.construction.showPreview())},E=function(e){var t=e.offsetX,n=e.offsetY,i={x:Math.floor(t/o.TILE_SIZE),y:Math.floor(n/o.TILE_SIZE)};l.mouse.setPosition(i)},d=function(){l.mouse.setPosition(null)},v=function(){var e=l.mouse.position,t=l.construction.blueprint,n=l.construction.displayPreview;if(0===u.getValueAtPosition(e,a.level01.map)&&n&&t){var r=t.cost;l.money.decreaseBy(r),a.level01.map[e.y][e.x]=4,s.towers.push(i(i({},t),{id:l.id.get(),position:e,isFiring:!1})),l.construction.setPosition(null)}},p=function(e){if(\"p\"===e.key&&(l.game.togglePaused(),requestAnimationFrame(r.frame)),\"f\"===e.key&&c(),\"Escape\"===e.key&&l.construction.hidePreview(),isFinite(Number(e.key))){var t=Number(e.key)-1;s.towerBlueprints[t]&&f(s.towerBlueprints[t])}};t.registerEventHandlers=function(){o.CANVAS.addEventListener(\"mousemove\",E),o.CANVAS.addEventListener(\"mouseleave\",d),o.CANVAS.addEventListener(\"click\",v),document.addEventListener(\"keydown\",p),o.FAST_FORWARD_DIV.addEventListener(\"click\",c),s.towerBlueprints.forEach((function(e){document.querySelector(\".tower-slot.\"+e.type).addEventListener(\"click\",(function(){f(e)}))}))}}]);","extractedComments":[]}