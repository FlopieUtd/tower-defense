{"map":"{\"version\":3,\"sources\":[\"bundle.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"levels_1\",\"utils_1\",\"CANVAS\",\"document\",\"querySelector\",\"CTX\",\"getContext\",\"SPAWN_LOCATION\",\"getUniquePosition\",\"level01\",\"map\",\"HEADQUARTERS\",\"TILE_SIZE\",\"STARTING_MONEY\",\"STARTING_HQ_HEALTH\",\"WAVE_NUM_DIV\",\"COIN_NUM_DIV\",\"FAST_FORWARD_DIV\",\"BOTTOM_BAR_DIV\",\"consts_1\",\"state_1\",\"waves\",\"amount\",\"type\",\"renderMap\",\"fillStyle\",\"fillRect\",\"length\",\"forEach\",\"row\",\"y\",\"tile\",\"x\",\"renderBuildings\",\"font\",\"textAlign\",\"fillText\",\"hqHealth\",\"toString\",\"_this\",\"this\",\"tick\",\"waveTick\",\"increase\",\"increaseWaveTick\",\"id\",\"money\",\"set\",\"updateUI\",\"increaseBy\",\"decreaseBy\",\"innerHTML\",\"decrease\",\"construction\",\"displayPreview\",\"position\",\"blueprint\",\"showPreview\",\"hidePreview\",\"setPosition\",\"setBlueprint\",\"mouse\",\"game\",\"isPaused\",\"isFastForward\",\"isGameOver\",\"togglePaused\",\"toggleFastForward\",\"setGameOver\",\"bool\",\"activeTower\",\"positionToId\",\"Position\",\"index\",\"includes\",\"indexOf\",\"getValueAtPosition\",\"_a\",\"arePositionsEqual\",\"a\",\"b\",\"keys\",\"every\",\"getAdjacentPositions\",\"filter\",\"breadthFirstSearch\",\"problem\",\"start\",\"end\",\"closed\",\"Set\",\"queue\",\"push\",\"path\",\"_loop_1\",\"node\",\"shift\",\"has\",\"add\",\"neighbour\",\"concat\",\"areColliding\",\"distanceX\",\"distanceY\",\"Math\",\"sqrt\",\"radius\",\"move\",\"current\",\"next\",\"speed\",\"moveSpeed\",\"Number\",\"toFixed\",\"enemies_1\",\"towers_1\",\"ui_1\",\"event_handlers_1\",\"finishLevel\",\"console\",\"log\",\"timestamp\",\"window\",\"performance\",\"now\",\"Date\",\"getTime\",\"last\",\"delta\",\"frame\",\"step\",\"min\",\"spawnEnemies\",\"updateEnemies\",\"activeEnemies\",\"updateTowers\",\"towers\",\"renderTowers\",\"renderEnemies\",\"renderConstructionPreview\",\"requestAnimationFrame\",\"startGame\",\"canvas\",\"width\",\"style\",\"height\",\"initializeUI\",\"registerEventHandlers\",\"towerBlueprints\",\"damagePerFrame\",\"cost\",\"color\",\"enemies\",\"tower\",\"isFiring\",\"enemiesInReach\",\"enemy\",\"sort\",\"target\",\"isUnderFire\",\"health\",\"beginPath\",\"arc\",\"PI\",\"fill\",\"__assign\",\"assign\",\"arguments\",\"apply\",\"engine_1\",\"spawnEnemy\",\"enemyBlueprint\",\"route\",\"enemyBlueprints\",\"find\",\"reward\",\"splice\",\"originalHealth\",\"intervalInTicks\",\"_1\",\"handleFastForwardToggle\",\"handleConstructionPreview\",\"handleMouseMove\",\"event\",\"offsetX\",\"offsetY\",\"currentTile\",\"floor\",\"handleMouseLeave\",\"handleMouseClick\",\"handleKeyDown\",\"e\",\"isFinite\",\"addEventListener\"],\"mappings\":\"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\"}","code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=6)}([function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(1),o=n(3);t.CANVAS=document.querySelector(\"canvas\"),t.CTX=t.CANVAS.getContext(\"2d\"),t.SPAWN_LOCATION=o.getUniquePosition(i.level01.map,2),t.HEADQUARTERS=o.getUniquePosition(i.level01.map,3),t.TILE_SIZE=50,t.STARTING_MONEY=200,t.STARTING_HQ_HEALTH=20,t.WAVE_NUM_DIV=document.querySelector(\".wave-num\"),t.COIN_NUM_DIV=document.querySelector(\".coin-num\"),t.FAST_FORWARD_DIV=document.querySelector(\".fast-forward\"),t.BOTTOM_BAR_DIV=document.querySelector(\".bottom-bar\")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),o=n(2);t.level01={map:[[0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0],[0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,1,1,1,0,1,1,1,0,1,1,1,1,1,0],[0,0,0,0,1,1,1,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],[2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],waves:[{amount:15,type:\"normal\"},{amount:20,type:\"normal\"},{amount:15,type:\"heavy\"},{amount:20,type:\"heavy\"}]},t.renderMap=function(e){i.CTX.fillStyle=\"black\",i.CTX.fillRect(0,0,e[0].length*i.TILE_SIZE,e.length*i.TILE_SIZE),e.forEach((function(e,t){e.forEach((function(e,n){e>0&&e<4&&(i.CTX.fillStyle=\"#444\",i.CTX.fillRect(n*i.TILE_SIZE,t*i.TILE_SIZE,i.TILE_SIZE,i.TILE_SIZE))}))}))},t.renderBuildings=function(e){e.forEach((function(e,t){e.forEach((function(e,n){2===e&&(i.CTX.fillStyle=\"#222\",i.CTX.fillRect(n*i.TILE_SIZE,t*i.TILE_SIZE,i.TILE_SIZE,i.TILE_SIZE),i.CTX.font=\"20px monospace\",i.CTX.fillStyle=\"white\",i.CTX.textAlign=\"center\",i.CTX.fillText(\"S\",n*i.TILE_SIZE+.5*i.TILE_SIZE,t*i.TILE_SIZE+.6*i.TILE_SIZE)),3===e&&(i.CTX.fillStyle=\"#222\",i.CTX.fillRect(n*i.TILE_SIZE,t*i.TILE_SIZE,i.TILE_SIZE,i.TILE_SIZE),i.CTX.font=\"20px monospace\",i.CTX.fillStyle=\"white\",i.CTX.textAlign=\"center\",i.CTX.fillText(o.hqHealth.value.toString(),n*i.TILE_SIZE+.5*i.TILE_SIZE,t*i.TILE_SIZE+.6*i.TILE_SIZE))}))}))}},function(e,t,n){\"use strict\";var i=this;Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),r=n(1),a=n(3);t.tick={value:0,waveTick:0,increase:function(){return this.value++},increaseWaveTick:function(){return this.waveTick++}},t.id={value:0,get:function(){return this.value++}},t.money={value:null,set:function(e){this.value=e,this.updateUI()},increaseBy:function(e){this.value+=e,this.updateUI()},decreaseBy:function(e){this.value-=e,this.updateUI()},updateUI:function(){o.COIN_NUM_DIV.innerHTML=this.value.toString()}},t.hqHealth={value:null,set:function(e){this.value=e},decrease:function(){this.value--}},t.waves={value:null,set:function(e){this.value=e,this.updateUI()},increase:function(){this.value++,this.updateUI()},updateUI:function(){o.WAVE_NUM_DIV.innerHTML=(this.value+1).toString()+\" / \"+r.level01.waves.length}},t.construction={displayPreview:!1,position:null,blueprint:null,showPreview:function(){this.displayPreview=!0},hidePreview:function(){this.displayPreview=!1},setPosition:function(e){this.position=e},setBlueprint:function(e){this.blueprint=e}},t.mouse={position:null,setPosition:function(e){this.position=e}},t.game={isPaused:!1,isFastForward:!1,isGameOver:!1,togglePaused:function(){this.isPaused=!this.isPaused},toggleFastForward:function(){this.isFastForward=!this.isFastForward},setGameOver:function(e){this.isGameOver=e}},t.activeTower=function(){a.positionToId,set(position,null|Position),i.value=position}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getUniquePosition=function(e,t){var n,i;return e.forEach((function(e,o){e.includes(t)&&(i=o,n=e.indexOf(t))})),{x:n,y:i}},t.getValueAtPosition=function(e,t){var n=e.x,i=e.y;return t[i]?t[i][n]:null},t.arePositionsEqual=function(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((function(n){return e[n]===t[n]}))},t.getAdjacentPositions=function(e,n){return[{x:e.x-1,y:e.y},{x:e.x+1,y:e.y},{x:e.x,y:e.y-1},{x:e.x,y:e.y+1}].filter((function(e){return t.getValueAtPosition(e,n)>0&&t.getValueAtPosition(e,n)<4}))},t.positionToId=function(e){return e.x+1e3*e.y},t.breadthFirstSearch=function(e){var n=e.map,i=e.start,o=e.end,r=new Set,a=[];a.push({position:i,path:[]});for(var s=function(){var e=a.shift(),i=e.position,s=e.path;if(t.arePositionsEqual(i,o))return{value:s};r.has(t.positionToId(i))||(r.add(t.positionToId(i)),t.getAdjacentPositions(i,n).forEach((function(e){a.push({position:e,path:s.concat([e])})})))};a.length;){var l=s();if(\"object\"==typeof l)return l.value}return[]},t.areColliding=function(e,t){var n=e.position.x-t.position.x,i=e.position.y-t.position.y;return Math.sqrt(n*n+i*i)<e.radius+t.radius},t.move=function(e,t,n){var i=n/100;return e.x<t.x?{x:Number((e.x+=i).toFixed(4)),y:e.y}:e.x>t.x?{x:Number((e.x-=i).toFixed(4)),y:e.y}:e.y<t.y?{x:e.x,y:Number((e.y+=i).toFixed(4))}:e.y>t.y?{x:e.x,y:Number((e.y-=i).toFixed(4))}:void 0}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),o=n(7),r=n(1),a=n(2),s=n(5),l=n(8),u=n(9);t.finishLevel=function(){console.log(\"level won!\")};var c=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},f=c(),v=0;t.frame=function(){var e=c(),n=a.game.isFastForward?1/240:1/60;for(v+=Math.min(1,(e-f)/1e3);v>n;)v-=n,a.game.isPaused||a.game.isGameOver||(a.tick.increase(),o.spawnEnemies(),o.updateEnemies(o.activeEnemies),s.updateTowers(s.towers,o.activeEnemies));f=e,r.renderMap(r.level01.map),s.renderTowers(s.towers),o.renderEnemies(o.activeEnemies),s.renderConstructionPreview(),r.renderBuildings(r.level01.map),a.hqHealth.value<=0&&(console.log(\"game over!\"),a.game.setGameOver(!0)),a.game.isGameOver||requestAnimationFrame(t.frame)};t.startGame=function(){var e;(e=i.CANVAS).width=r.level01.map[0].length*i.TILE_SIZE,e.style.width=r.level01.map[0].length*i.TILE_SIZE+\"px\",e.height=r.level01.map.length*i.TILE_SIZE,e.style.height=r.level01.map.length*i.TILE_SIZE+\"px\",l.initializeUI(),u.registerEventHandlers(),a.money.set(i.STARTING_MONEY),a.hqHealth.set(i.STARTING_HQ_HEALTH),a.waves.set(0),requestAnimationFrame(t.frame)}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),o=n(1),r=n(2),a=n(3);t.towerBlueprints=[{type:\"turret\",damagePerFrame:1,radius:1.5,cost:100,color:\"blue\"},{type:\"flamethrower\",damagePerFrame:2,radius:1.2,cost:150,color:\"red\"}],t.updateTowers=function(e,t){e.forEach((function(e){e.isFiring=!1;var n=[];if(t.forEach((function(t){a.areColliding(e,t)&&n.push(t)})),n.sort((function(e,t){return e.id-t.id})),n.length){e.isFiring=!0;var i=e.damagePerFrame,o=n[0];o.isUnderFire=!0,o.health-=i}}))},t.renderTowers=function(e){e.forEach((function(e){var t=e.position,n=e.isFiring,o=t.x,r=t.y;i.CTX.fillStyle=e.color,i.CTX.fillRect(o*i.TILE_SIZE+10,r*i.TILE_SIZE+10,i.TILE_SIZE-20,i.TILE_SIZE-20),n&&(i.CTX.fillStyle=\"white\",i.CTX.beginPath(),i.CTX.arc(o*i.TILE_SIZE+.5*i.TILE_SIZE,r*i.TILE_SIZE+.5*i.TILE_SIZE,5,0,2*Math.PI),i.CTX.fill())}))},t.renderConstructionPreview=function(){var e=r.construction.displayPreview,t=r.construction.blueprint;if(t){var n=t.cost,s=t.color,l=t.radius,u=r.mouse.position,c=r.money.value;e&&u&&0===a.getValueAtPosition(u,o.level01.map)&&n<=c&&(i.CTX.fillStyle=\"rgba(255,255,255,.1)\",i.CTX.beginPath(),i.CTX.arc(u.x*i.TILE_SIZE+.5*i.TILE_SIZE,u.y*i.TILE_SIZE+.5*i.TILE_SIZE,l*i.TILE_SIZE,0,2*Math.PI),i.CTX.fill(),i.CTX.fillStyle=s,i.CTX.fillRect(u.x*i.TILE_SIZE+10,u.y*i.TILE_SIZE+10,i.TILE_SIZE-20,i.TILE_SIZE-20)),n>c&&r.construction.hidePreview()}},t.towers=[]},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),n(4).startGame()},function(e,t,n){\"use strict\";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),r=n(4),a=n(1),s=n(2),l=n(3);t.spawnEnemy=function(e){t.activeEnemies.push(i(i({},e),{id:s.id.get(),isUnderFire:!1,position:l.getUniquePosition(a.level01.map,2),route:l.breadthFirstSearch({end:o.HEADQUARTERS,map:a.level01.map,start:o.SPAWN_LOCATION})}))},t.spawnEnemies=function(){if(s.tick.value%30==0&&a.level01.waves[s.waves.value]&&a.level01.waves[s.waves.value].amount){a.level01.waves[s.waves.value].amount--;var e=t.enemyBlueprints.find((function(e){return e.type===a.level01.waves[s.waves.value].type}));t.spawnEnemy(e)}a.level01.waves[s.waves.value].amount<1&&(s.tick.increaseWaveTick(),s.tick.waveTick%1e3==0&&(s.waves.value<a.level01.waves.length-1&&s.waves.increase(),s.tick.waveTick=0))},t.updateEnemies=function(e){e.forEach((function(t){var n=t.position,i=t.route,u=t.health,c=t.reward,f=t.speed;if(u<=0&&s.money.increaseBy(c),l.arePositionsEqual(n,o.HEADQUARTERS)&&s.hqHealth.decrease(),l.arePositionsEqual(n,o.HEADQUARTERS)||u<=0)return e.splice(e.indexOf(t),1),s.waves.value===a.level01.waves.length-1&&0===e.length&&r.finishLevel(),null;l.arePositionsEqual(n,i[0])&&i.shift(),t.position=l.move(n,i[0],f),t.isUnderFire=!1}))},t.renderEnemies=function(e){e.forEach((function(e){var t=e.position,n=e.isUnderFire,i=e.health,r=e.originalHealth,a=e.color;o.CTX.fillStyle=n?\"white\":a,o.CTX.beginPath(),o.CTX.arc(t.x*o.TILE_SIZE+.5*o.TILE_SIZE,t.y*o.TILE_SIZE+.5*o.TILE_SIZE,5,0,2*Math.PI),o.CTX.fill(),i/r<1&&(o.CTX.fillStyle=\"black\",o.CTX.fillRect(t.x*o.TILE_SIZE+17.5,t.y*o.TILE_SIZE+35,15,2),o.CTX.fillStyle=\"lime\",o.CTX.fillRect(t.x*o.TILE_SIZE+17.5,t.y*o.TILE_SIZE+35,i/r*15,2))}))},t.enemyBlueprints=[{type:\"normal\",color:\"red\",radius:.05,originalHealth:75,health:75,reward:2,speed:2.5,intervalInTicks:30},{type:\"heavy\",color:\"pink\",radius:.05,originalHealth:150,health:150,reward:3,speed:2,intervalInTicks:25}],t.activeEnemies=[]},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),o=n(5);t.initializeUI=function(){o.towerBlueprints.forEach((function(e){i.BOTTOM_BAR_DIV.innerHTML+=\"<div class='tower-slot \"+e.type+'\\'><div class=\"preview\" style=\"background: '+e.color+'\"/></div>'}))}},function(e,t,n){\"use strict\";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(4),r=n(0),a=n(1),s=n(2),l=n(5),u=n(3),c=function(){s.game.toggleFastForward(),r.FAST_FORWARD_DIV.innerHTML=s.game.isFastForward?\">\":\">>\"},f=function(e){e.cost<=s.money.value&&(s.construction.setBlueprint(e),s.construction.showPreview())},v=function(e){var t=e.offsetX,n=e.offsetY,i={x:Math.floor(t/r.TILE_SIZE),y:Math.floor(n/r.TILE_SIZE)};s.mouse.setPosition(i)},d=function(){s.mouse.setPosition(null)},E=function(){var e=s.mouse.position,t=s.construction.blueprint,n=s.construction.displayPreview;if(0===u.getValueAtPosition(e,a.level01.map)&&n&&t){var o=t.cost;s.money.decreaseBy(o),a.level01.map[e.y][e.x]=4,l.towers.push(i(i({},t),{id:s.id.get(),position:e,isFiring:!1})),s.construction.setPosition(null)}},p=function(e){if(\"p\"===e.key&&(s.game.togglePaused(),requestAnimationFrame(o.frame)),\"f\"===e.key&&c(),\"Escape\"===e.key&&s.construction.hidePreview(),isFinite(Number(e.key))){var t=Number(e.key)-1;l.towerBlueprints[t]&&f(l.towerBlueprints[t])}};t.registerEventHandlers=function(){r.CANVAS.addEventListener(\"mousemove\",v),r.CANVAS.addEventListener(\"mouseleave\",d),r.CANVAS.addEventListener(\"click\",E),document.addEventListener(\"keydown\",p),r.FAST_FORWARD_DIV.addEventListener(\"click\",c),l.towerBlueprints.forEach((function(e){document.querySelector(\".tower-slot.\"+e.type).addEventListener(\"click\",(function(){f(e)}))}))}}]);","extractedComments":[]}