{"code":"!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),r=n(2),u=document.querySelector(\"canvas\"),a=u.getContext(\"2d\");u.width=50*o.map01[0].length,u.style.width=50*o.map01[0].length+\"px\",u.height=50*o.map01.length,u.style.height=50*o.map01.length+\"px\";var l=r.getUniquePosition(o.map01,2),c=r.getUniquePosition(o.map01,3),f=(i(i({},r.getUniquePosition(o.map01,4)),{radius:75}),function(){var t=h();y(),d(),t,requestAnimationFrame(f)});requestAnimationFrame(f);var s=[],p=0,y=function(){++p%20==0&&s.push({isColliding:!1,radius:10,position:r.getUniquePosition(o.map01,2),route:r.breadthFirstSearch({map:o.map01,start:l,end:c})}),s.forEach((function(t){var e,n,i=t.position,o=t.route;if(r.arePositionsEqual(i,c))return s.splice(s.indexOf(t),1),null;areColliding()&&r.arePositionsEqual(i,o[0])&&o.shift(),t.position=(e=i,n=o[0],e.x<n.x?{x:Number((e.x+=.05).toFixed(4)),y:e.y}:e.x>n.x?{x:Number((e.x-=.05).toFixed(4)),y:e.y}:e.y<n.y?{x:e.x,y:Number((e.y+=.05).toFixed(4))}:e.y>n.y?{x:e.x,y:Number((e.y-=.05).toFixed(4))}:void 0)}))},d=function(){a.fillStyle=\"black\",a.fillRect(0,0,50*o.map01[0].length,50*o.map01.length),o.map01.forEach((function(t,e){t.forEach((function(t,n){t>0&&t<4&&(a.fillStyle=\"#444\",a.fillRect(50*n,50*e,50,50))}))})),o.map01.forEach((function(t,e){t.forEach((function(t,n){4===t&&(a.fillStyle=\"blue\",a.fillRect(50*n+10,50*e+10,30,30),a.fillStyle=\"rgba(255,255,255,.1)\",a.beginPath(),a.arc(50*n+25,50*e+25,75,0,2*Math.PI),a.fill())}))})),s.forEach((function(t){var e=t.position;a.fillStyle=\"red\",a.beginPath(),a.arc(50*e.x+25,50*e.y+25,5,0,2*Math.PI),a.fill()}))},h=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()};h()},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.map01=[[0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0,0,0,0,0],[0,1,0,0,0,1,0,0,1,1,1,0],[0,1,0,0,0,1,0,0,1,4,1,0],[0,1,0,0,0,1,0,0,1,0,1,0],[0,1,0,0,0,1,1,1,1,0,1,0],[0,1,0,0,0,0,0,0,0,0,1,0],[0,2,0,0,0,0,0,0,0,0,3,0]]},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getUniquePosition=function(t,e){var n,i;return t.forEach((function(t,o){t.includes(e)&&(i=o,n=t.indexOf(e))})),{x:n,y:i}},e.getValueAtPosition=function(t,e){var n=t.x,i=t.y;return e[i]?e[i][n]:null},e.arePositionsEqual=function(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every((function(n){return t[n]===e[n]}))},e.getAdjacentPositions=function(t,n){return[{x:t.x-1,y:t.y},{x:t.x+1,y:t.y},{x:t.x,y:t.y-1},{x:t.x,y:t.y+1}].filter((function(t){return e.getValueAtPosition(t,n)>0&&e.getValueAtPosition(t,n)<4}))},e.positionToId=function(t){return t.x+1e3*t.y},e.breadthFirstSearch=function(t){var n=t.map,i=t.start,o=t.end,r=new Set,u=[];u.push({position:i,path:[]});for(var a=function(){var t=u.shift(),i=t.position,a=t.path;if(e.arePositionsEqual(i,o))return{value:a};r.has(e.positionToId(i))||(r.add(e.positionToId(i)),e.getAdjacentPositions(i,n).forEach((function(t){u.push({position:t,path:a.concat([t])})})))};u.length;){var l=a();if(\"object\"==typeof l)return l.value}return[]},e.areColliding=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)<t.radius+e.radius}}]);","extractedComments":[]}